<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.js Glue Code Minimal Starter</title>
    <!-- Load Tailwind CSS for simple, clean styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Three.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Load OrbitControls for easy camera navigation -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        /* Ensure the body and canvas take up the full screen */
        body {
            margin: 0;
            overflow: hidden; /* Prevent scrolling */
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e; /* Dark background */
        }
    </style>
</head>
<body>

<!-- This div will host the three.js renderer -->
<div id="scene-container"></div>

<script>
    // --- 1. Core Variables & Initialization ---

    let scene, camera, renderer, controls, exampleCube;
    const container = document.getElementById('scene-container');
    const width = window.innerWidth;
    const height = window.innerHeight;

    function init() {
        // 1a. Scene Setup
        scene = new THREE.Scene();
        scene.background = new THREE.Color(0x1a1a2e); // Set a dark blue-purple background

        // 1b. Camera Setup (Perspective Camera is the standard default)
        camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
        camera.position.set(2, 3, 5); // Default camera position

        // 1c. Renderer Setup (The engine that draws the scene)
        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(width, height);
        renderer.setPixelRatio(window.devicePixelRatio);
        container.appendChild(renderer.domElement);

        // --- 2. Essential Glue Code: Controls & Lighting ---

        // 2a. Orbit Controls (MUST-HAVE for easy 3D navigation)
        controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true; // Smooth camera movements
        controls.dampingFactor = 0.05;

        // 2b. Basic Lighting (Otherwise, objects will be black)
        // Ambient Light: Illuminates all objects equally, providing overall softness.
        const ambientLight = new THREE.AmbientLight(0x404040, 5); // Soft white light
        scene.add(ambientLight);

        // Directional Light: Mimics the sun, providing shadows and directionality.
        const directionalLight = new THREE.DirectionalLight(0xffffff, 3);
        directionalLight.position.set(5, 5, 5).normalize();
        scene.add(directionalLight);
        
        // --- 3. Example Object (To prove the setup works) ---

        // This is where you would typically start adding your own geometry, glTFs, etc.
        const geometry = new THREE.BoxGeometry(1, 1, 1);
        const material = new THREE.MeshPhongMaterial({ color: 0x8a2be2 }); // Purple color
        exampleCube = new THREE.Mesh(geometry, material);
        exampleCube.position.y = 0.5;
        scene.add(exampleCube);

        // --- 4. Event Listeners ---
        window.addEventListener('resize', onWindowResize, false);

        console.log("Three.js environment initialized successfully. Start adding your cool stuff!");
        animate();
    }

    // --- 5. Animation Loop (The heart of any Three.js project) ---

    function animate() {
        requestAnimationFrame(animate);

        // Update controls (MANDATORY if damping is enabled)
        controls.update();

        // Optional: Simple object rotation for visual feedback
        if (exampleCube) {
            exampleCube.rotation.x += 0.005;
            exampleCube.rotation.y += 0.005;
        }

        // Render the scene
        renderer.render(scene, camera);
    }

    // --- 6. Window Resize Handler (Essential for responsiveness) ---

    function onWindowResize() {
        // Update camera aspect ratio
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();

        // Update renderer size
        renderer.setSize(window.innerWidth, window.innerHeight);
    }

    // Start the application
    init();

</script>
</body>
</html>
